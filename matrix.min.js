(function(a){var e={OBJ_NOT_ARRAY:"Object is not instanceof Array.",MALFORMED_ARRAY:"Malformed array provided.",INVALIDE_MATRIX:"'multiplication' accepts two matrix as parameter.",NON_SQUARE_MATRIX:"Non-square matrix.",NAN:"Not a number (NaN).",DIV_BY_0:"Division by zero.",NON_INVERT:"Non invertible matrix."},c={validate:function(h){var g=h.length,f;
if(!h instanceof Array){return{error:1,message:e.OBJ_NOT_ARRAY};}if(!g){return{error:0};}f=h[--g].length;while(g--&&f!=h[g].length){return{error:2,message:e.MALFORMED_ARRAY};
}return{error:0};},create:function(f){return new d(f);},multiply:function(g,f){if(!g instanceof d||!f instanceof d){throw new Error(e.INVALIDE_MATRIX);
}}},b={newElem:function(f){return document.createElement(f);},clone:function(f){return JSON.parse(JSON.stringify(f));},subMatrix:function(l,h,g){var k=b.clone(l),f;
k.splice(h,1);f=k.length;while(f--){k[f].splice(g,1);}return k;},isSquare:function(f){if(f.length===0){return true;}if(!f||f.length===undefined){return false;
}return f.length===f[0].length;},evalDeterminant:function(p){var f=p,n,l,k,h,m,g,o="";if(f.length==0){return 0;}if(f.length==1){return f[0][0];}if(f.length==2){return((f[0][0]*f[1][1])-(f[0][1]*f[1][0]));
}n=f.length;l=f[0].length;m=0;for(k=0;k<1;k++){for(h=0;h<l;h++){g=((k+h)%2)?-1:1;m+=(g*f[k][h]*b.evalDeterminant(b.subMatrix(p,k,h)));}}return m;},evalTranspose:function(l){var k=b.clone(l),h,g,f;
for(h=0;h<k.length;h++){for(g=0;g<k.length;g++){if(h>=g){continue;}f=k[h][g];k[h][g]=k[g][h];k[g][h]=f;}}return(k);},evalAdjoint:function(m){var l=b.clone(m),k,h,g=[],f;
k=l.length;while(k--){g.push(new Array(l.length));}for(k=0;k<l.length;k++){for(h=0;h<l.length;h++){f=((k+h)%2)?-1:1;g[k][h]=f*b.evalDeterminant(b.subMatrix(l,k,h));
}}return b.evalTranspose(g);},scale:function(m,h,l){var k=b.clone(m),f,g;h=parseInt(h);if(isNaN(h)){throw new Error(error.NAN);}f=k.length;g=k[0]?k[0].length:0;
for(i=0;i<f;i++){for(j=0;j<g;j++){if(l){k[i][j]/=h;}else{k[i][j]*=h;}}}return k;}};var d=function(){this.set.apply(this,arguments);};d.prototype.set=function(g){var f;
if((f=c.validate(g)).error){throw new Error(f.message);}this.rowLength=g.length;this.colLength=this.rowLength?g.length:0;this.rows=g;};d.prototype.row=function(f){return this.rows[f];
};d.prototype.at=function(g,f){return(this.rows[g]&&this.rows[g][f])?this.rows[g][f]:null;};d.prototype.print=function(f){var n="\n\r",m="\t",k,h,g,l="";
if(!f||!f.nodeType){f=null;}if(f){n="<br>";m="&#9;";}for(k=0;k<this.rows.length;k++){k&&(l+=n);for(h=0;h<this.rows[k].length;h++){h&&(l+=m);l+=this.rows[k][h].toString();
}}if(f){f.innerHTML=l;}else{console.log(l);}};d.prototype.inverse=function(){var g=b.evalDeterminant(this.rows),f;if(g==0){throw new Error(e.NON_INVERT);
}f=b.evalAdjoint(this.rows);return c.create(b.scale(f,g,true));};d.prototype.determinent=function(){var f;if(!b.isSquare(this.rows)){throw new Error(e.NON_SQUARE_MATRIX);
}f=c.validate(this.rows);if(f.error){throw new Error(f.message);}return b.evalDeterminant(this.rows);};d.prototype.adjoint=function(){if(!b.isSquare(this.rows)){throw new Error(e.NON_SQUARE_MATRIX);
}errs=c.validate(this.rows);if(errs.error){throw new Error(errs.message);}return new c.create(b.evalAdjoint(this.rows));};d.prototype.transpose=function(){if(!b.isSquare(this.rows)){throw new Error(e.NON_SQUARE_MATRIX);
}errs=c.validate(this.rows);if(errs.error){throw new Error(errs.message);}return new c.create(b.evalTranspose(this.rows));};d.prototype.multiply=function(f){return c.create(b.scale(this.rows,f));
};d.prototype.divide=function(f){if(f==0){throw new Error(error.DIV_BY_0);}return c.create(b.scale(this.rows,f,true));};a.Matrix=c;})(window);